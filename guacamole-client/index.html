<!doctype html>
<html lang="en">
<head>
  <title>guacamole client demo</title>
  <style>
    #display {
      position: fixed;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
    }
  </style>
</head>

<body>
<div id="display"></div>

<script src="./dist/guacamole-client.umd.js"></script>
<script>
  const elm = document.getElementById('display')
  const tunnelUrl = 'wss://hzvm.shiyanlou.com/websocket-tunnel'
  const token = 'eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJndWFjLmd1YWNkX2hvc3QiOiIxNzIuMTYuNTUuNjo0ODIyIiwiZ3VhYy5ob3N0bmFtZSI6IjE5Mi4xNjguNDIuNiIsImd1YWMucGFzc3dvcmQiOiIxMjM0NTYiLCJndWFjLnBvcnQiOiI1OTAxIiwiZ3VhYy5wcm90b2NvbCI6InZuYyIsImd1YWMudXNlcl9pZCI6IjE3MzU4MTgifQ.F8iQqvG5gX-J2YxHuign7rYDF_uZlT-DJ_M1RVl8Wu9mUsRfxqFldEBaRvzeA8DsW28oErYGuM54_GByM8dcDg'

  const tunnel = new Guacamole.ChainedTunnel(new Guacamole.WebSocketTunnel(tunnelUrl))
  const client = new Guacamole.Client(tunnel)
  const optimalDpi = (window.devicePixelRatio || 1) * 96
  const connectArgs = `token=${token}&GUAC_DPI=${optimalDpi}`

  elm.appendChild(client.getDisplay().getElement())
  client.connect(connectArgs)
</script>
</body>
</html>
